image:
  repository: ghcr.io/cyrixrr/strapi
  tag: "a55f8189d19c3adc49f2ad59261971d2c6acbfeb"
  pullPolicy: IfNotPresent

replicaCount: 2

service:
  type: NodePort
  port: 1337
  nodePort: 31338    # dev uses different NodePort to avoid clash with prod

persistence:
  enabled: true
  storageClass: nfs-client
  size: 10Gi
  mountPath: /opt/app/public/uploads

database:
  host: strapi-postgresql.strapi.svc.cluster.local  # Cross-namespace DB service in "strapi" namespace (shared DB)
  port: 5432
  name: strapi
  username: strapi
  passwordSecret:
    name: strapi-postgres-credentials
    key: password

strapiSecrets:
  name: strapi-secrets

env:
  NODE_ENV: "development"
